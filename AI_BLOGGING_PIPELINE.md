# ๐ค AI Blogging Pipeline - ุฏููู ุงูุงุณุชุฎุฏุงู

## ูุธุฑุฉ ุนุงูุฉ

ูุธุงู AI Blogging Pipeline ูู ูุธุงู ุขูู ูุชูุงูู ูุฅูุดุงุก ูุญุชูู ุชููู ุจุงุณุชุฎุฏุงู ุงูุฐูุงุก ุงูุงุตุทูุงุนู (Gemini AI). ูููู ุงููุธุงู ุจุงูุจุญุซ ุนู ุฃุญุฏุซ ุงูุงุชุฌุงูุงุช ุงูุชูููุฉ ูุฅูุดุงุก ููุงูุงุช ุงุญุชุฑุงููุฉ ูุญุณููุฉ ููุญุฑูุงุช ุงูุจุญุซ ุชููุงุฆูุงู.

## ุงููููุฒุงุช ุงูุฑุฆูุณูุฉ

โ **ุงูุจุญุซ ุงูุฐูู ุนู ุงูุงุชุฌุงูุงุช**: ูุณุชุฎุฏู Gemini AI ููุจุญุซ ุนู ุฃุญุฏุซ 5 ุงุชุฌุงูุงุช ูู ูุฌุงูุงุช AI ูุงูุจุฑูุฌูุงุช
โ **ุฅูุดุงุก ูุญุชูู ุงุญุชุฑุงูู**: ููุงูุงุช ุชูููุฉ ุดุงููุฉ ูุน ุนูุงููู H2/H3 ููุญุณููุฉ ูู SEO
โ **ูุธุงู ููุงู ูุชูุฏู**: ุชุชุจุน ูุงูู ูุญุงูุฉ ูู ูููุฉ (ูุนููุฉุ ููุฏ ุงูุชูููุฐุ ููุชููุฉุ ูุงุดูุฉ)
โ **ููุญุฉ ุชุญูู Filament**: ุฅุฏุงุฑุฉ ุณููุฉ ููููุงู ูุงูููุงูุงุช
โ **ุฅุนุงุฏุฉ ุงููุนุงูุฌุฉ ุงูุชููุงุฆูุฉ**: ุฅููุงููุฉ ุฅุนุงุฏุฉ ูุนุงูุฌุฉ ุงูููุงู ุงููุงุดูุฉ
โ **ุชุตููู ุชููุงุฆู**: ุฅูุดุงุก ุชุตูููุงุช ุชููุงุฆูุงู ุญุณุจ ุงูููุถูุน

## ุงูุชุซุจูุช ูุงูุฅุนุฏุงุฏ

### 1. ุฅุถุงูุฉ API Key

ุฃุถู ููุชุงุญ Gemini API ูู ููู `.env`:

```env
GEMINI_API_KEY=your_gemini_api_key_here
GEMINI_MODEL=gemini-2.0-flash-exp
```

ููุญุตูู ุนูู API Key:
1. ุงุฐูุจ ุฅูู: https://aistudio.google.com/app/apikey
2. ุฃูุดุฆ ููุชุงุญ ุฌุฏูุฏ
3. ุงูุณุฎู ูุถุนู ูู `.env`

### 2. ุงูุฅุนุฏุงุฏุงุช ุงูุงุฎุชูุงุฑูุฉ

ููููู ุชุฎุตูุต ุงูุฅุนุฏุงุฏุงุช ูู ููู `.env`:

```env
# ุนุฏุฏ ุงูุงุชุฌุงูุงุช ุงููุทููุจ ุงูุจุญุซ ุนููุง
AI_TRENDS_COUNT=5

# ุนุฏุฏ ุงููููุงุช ูู ุงูููุงู
AI_MIN_WORDS=800
AI_MAX_WORDS=1500

# ุชุถููู ุฃูุซูุฉ ุงูููุฏ
AI_INCLUDE_CODE=true

# Rate Limiting
AI_RATE_LIMIT_ENABLED=true
AI_DELAY_SECONDS=2
```

## ุงูุงุณุชุฎุฏุงู

### ุทุฑููุฉ 1: ูู ุฎูุงู ุณุทุฑ ุงูุฃูุงูุฑ

#### ุชุดุบูู ุฏูุฑุฉ ูุงููุฉ (ุจุญุซ + ูุนุงูุฌุฉ)

```bash
php artisan blog:run-ai-pipeline
```

ูุฐุง ุงูุฃูุฑ ุณูููู ุจู:
1. ุงูุจุญุซ ุนู 5 ุงุชุฌุงูุงุช ุชูููุฉ ุฌุฏูุฏุฉ
2. ุฅูุดุงุก 5 ููุงู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
3. ูุนุงูุฌุฉ ูู ูููุฉ ูุฅูุดุงุก ููุงู
4. ุญูุธ ุงูููุงูุงุช ููุณูุฏุงุช ูููุฑุงุฌุนุฉ

#### ูุนุงูุฌุฉ ุงูููุงู ุงูููุฌูุฏุฉ ููุท

```bash
php artisan blog:run-ai-pipeline --only-process
```

#### ุชุญุฏูุฏ ุนุฏุฏ ุงูููุงู ุงููุฑุงุฏ ูุนุงูุฌุชูุง

```bash
php artisan blog:run-ai-pipeline --limit=3
```

#### ุชุฌุงูุฒ ุงูุชุฃููุฏุงุช

```bash
php artisan blog:run-ai-pipeline --force
```

### ุทุฑููุฉ 2: ูู ุฎูุงู ููุญุฉ Filament

1. **ุงููุตูู ูููุญุฉ ุงูุชุญูู**
   ```
   http://localhost:8000/admin
   ```

2. **ุนุฑุถ ุงูููุงู**
   - ุงุฐูุจ ุฅูู: `ูุธุงู ุงูุฐูุงุก ุงูุงุตุทูุงุนู` โ `ููุงู AI`
   - ุณุชุฌุฏ ูุงุฆูุฉ ุจุฌููุน ุงูููุงู ูุน ุญุงูุชูุง

3. **ุฅุนุงุฏุฉ ูุนุงูุฌุฉ ูููุฉ ูุงุดูุฉ**
   - ุงูุชุญ ุงููููุฉ ุงููุงุดูุฉ
   - ุงุถุบุท ุนูู ุฒุฑ "ุฅุนุงุฏุฉ ุงููุนุงูุฌุฉ"

4. **ุนุฑุถ ุงูููุงู ุงููููุดุฃ**
   - ูู ุตูุญุฉ ุงููููุฉ ุงูููุชููุฉ
   - ุงุถุบุท ุนูู "ุนุฑุถ ุงูููุงู"

## ุงูุจููุฉ ุงูุชูููุฉ

### ูุงุนุฏุฉ ุงูุจูุงูุงุช

#### ุฌุฏูู `ai_tasks`
```sql
- id: ูุนุฑูู ุงููููุฉ
- task_type: ููุน ุงููููุฉ (fetch_trends, generate_article)
- payload: ุจูุงูุงุช ุงููููุฉ (JSON)
- status: ุงูุญุงูุฉ (pending, running, completed, failed)
- result: ูุชูุฌุฉ ุงููููุฉ (JSON)
- scheduled_at: ููุช ุงูุฌุฏููุฉ
- started_at: ููุช ุงูุจุฏุก
- completed_at: ููุช ุงูุงูุชูุงุก
- error_message: ุฑุณุงูุฉ ุงูุฎุทุฃ
```

#### ุฌุฏูู `posts` (ุชู ุชุญุฏูุซู)
```sql
- source_url: ุฑุงุจุท ุงููุตุฏุฑ (ุฌุฏูุฏ)
- is_published: ุญุงูุฉ ุงููุดุฑ (false ุงูุชุฑุงุถูุงู)
```

### ุงูุฎุฏูุงุช (Services)

#### `AIOrchestratorService`
ุงูุฎุฏูุฉ ุงูุฑุฆูุณูุฉ ุงูุชู ุชูุณู ุงูุนูููุฉ ุจุงููุงูู:
- `fetchTrends()`: ุงูุจุญุซ ุนู ุงูุงุชุฌุงูุงุช
- `processTask($taskId)`: ูุนุงูุฌุฉ ูููุฉ ูุงุญุฏุฉ
- `processPendingTasks($limit)`: ูุนุงูุฌุฉ ุฌููุน ุงูููุงู ุงููุนููุฉ
- `retryFailedTask($taskId)`: ุฅุนุงุฏุฉ ูุนุงูุฌุฉ ูููุฉ ูุงุดูุฉ

#### `TrendSearchService`
ุงูุจุญุซ ุนู ุงูุงุชุฌุงูุงุช ุจุงุณุชุฎุฏุงู Gemini API:
- ูุจุญุซ ุนู ุฃุญุฏุซ ุงูููุงุถูุน ูู ูุฌุงูุงุช ูุญุฏุฏุฉ
- ูุณุชุฎุฑุฌ ุงูุนููุงูุ ุงููููุงุช ุงูููุชุงุญูุฉุ ุงููุตูุ ูุงููุตุฏุฑ

#### `AIContentGenerator`
ุฅูุดุงุก ุงููุญุชูู:
- ูููุฏ ููุงูุงุช ุงุญุชุฑุงููุฉ ุจุชูุณูู HTML
- ูุถูู SEO optimization
- ูุถูู meta descriptions
- ููุชุฑุญ prompts ููุตูุฑ ุงููููุฒุฉ

## ุณูุฑ ุงูุนูู

```
1. ุชุดุบูู ุงูุฃูุฑ
   โ
2. ุงูุจุญุซ ุนู 5 ุงุชุฌุงูุงุช (Gemini API)
   โ
3. ุฅูุดุงุก 5 ููุงู ูู ai_tasks
   โ
4. ููู ูููุฉ:
   - ุชุญุฏูุซ ุงูุญุงูุฉ โ running
   - ุฅูุดุงุก ููุงู (Gemini API)
   - ุฅูุดุงุก/ุงูุญุตูู ุนูู ุชุตููู
   - ุญูุธ ุงูููุงู ูู posts
   - ุชุญุฏูุซ ุงูุญุงูุฉ โ completed
   โ
5. ุนุฑุถ ููุฎุต ุงููุชุงุฆุฌ
```

## ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก

### ุงูุฃุฎุทุงุก ุงูุดุงุฆุนุฉ

#### 1. `GEMINI_API_KEY not found`
**ุงูุญู**: ุฃุถู ุงูููุชุงุญ ูู ููู `.env`

#### 2. `Rate limit exceeded`
**ุงูุญู**: 
- ุงูุชุธุฑ ููููุงู ุซู ุฃุนุฏ ุงููุญุงููุฉ
- ุฒุฏ ูููุฉ `AI_DELAY_SECONDS` ูู `.env`

#### 3. `Failed to parse JSON response`
**ุงูุญู**: 
- ุชุญูู ูู ุงุชุตุงู ุงูุฅูุชุฑูุช
- ุฃุนุฏ ูุนุงูุฌุฉ ุงููููุฉ ูู ููุญุฉ Filament

## ุงูุฅุญุตุงุฆูุงุช ูุงููุฑุงูุจุฉ

### ูู ุณุทุฑ ุงูุฃูุงูุฑ
ุนูุฏ ุชุดุบูู ุงูุฃูุฑุ ุณุชุญุตู ุนูู:
- ุนุฏุฏ ุงูููุงู ุงููุนุงูุฌุฉ
- ุนุฏุฏ ุงูููุงูุงุช ุงููููุดุฃุฉ ุจูุฌุงุญ
- ุนุฏุฏ ุงูููุงู ุงููุงุดูุฉ
- ุงูููุช ุงููุณุชุบุฑู
- ุฅุญุตุงุฆูุงุช ุงููุธุงู ุงููุงููุฉ

### ูู ููุญุฉ Filament
- ููุชุฑุฉ ุญุณุจ ุงูุญุงูุฉ
- ููุชุฑุฉ ุญุณุจ ููุน ุงููููุฉ
- ุงูุจุญุซ ูู ุงูุนูุงููู
- ุนุฑุถ ุชูุงุตูู ูู ูููุฉ
- ุนุฑุถ payload ู result ุจุชูุณูู JSON

## ุงูุชุฎุตูุต

### ุชุบููุฑ ุงูููุงุถูุน ุงููุณุชูุฏูุฉ

ุนุฏูู ููู `config/ai-services.php`:

```php
'trends' => [
    'topics' => [
        'Artificial Intelligence',
        'Machine Learning',
        'Your Custom Topic',
    ],
],
```

### ุชุบููุฑ ุทูู ุงูููุงู

```php
'content' => [
    'min_words' => 1000,
    'max_words' => 2000,
],
```

### ุชุนุทูู ุฃูุซูุฉ ุงูููุฏ

```php
'content' => [
    'include_code_examples' => false,
],
```

## ุงูุชุทููุฑุงุช ุงููุณุชูุจููุฉ

- [ ] ุฅุถุงูุฉ Queue Jobs ูููุนุงูุฌุฉ ูู ุงูุฎูููุฉ
- [ ] ุฅุถุงูุฉ Task Scheduling ููุชุดุบูู ุงูุชููุงุฆู ุงููููู
- [ ] ุฅุถุงูุฉ Notifications ุนูุฏ ุงูุชูุงู ุงูููุงู
- [ ] ุชูุงูู ูุนูู ูุน DALL-E ูุฅูุดุงุก ุงูุตูุฑ
- [ ] ุฏุนู ูุบุงุช ูุชุนุฏุฏุฉ
- [ ] ุชุญููู SEO ุชููุงุฆู

## ุงูุฏุนู

ูููุดุงูู ุฃู ุงูุงุณุชูุณุงุฑุงุช:
1. ุชุญูู ูู logs ูู `storage/logs/laravel.log`
2. ุฑุงุฌุน ุงูููุงู ุงููุงุดูุฉ ูู ููุญุฉ Filament
3. ุชุฃูุฏ ูู ุตุญุฉ API Key

---

**ุชู ุงูุชุทููุฑ ุจูุงุณุทุฉ Ahmed Maher ุจุงุณุชุฎุฏุงู Laravel 11 ู Filament 4 ู Gemini AI** ๐
